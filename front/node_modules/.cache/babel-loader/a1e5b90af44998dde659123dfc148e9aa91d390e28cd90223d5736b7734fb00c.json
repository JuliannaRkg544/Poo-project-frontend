{"ast":null,"code":"var _jsxFileName = \"/home/juliana/Documents/Projetos/poo-projeto/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  const navigate = useNavigate();\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [disabled, setDisabled] = useState(false); //disabilita oq?\n\n  //BONUS DO LOCALSTORAGE\n  let foto = localStorage.getItem(\"foto\");\n  let token = localStorage.getItem(\"token\");\n  if (foto != undefined || token != undefined) {\n    navigate(\"/today\");\n  }\n  const URL_POST = \"https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/auth/login\";\n  const body = {\n    email: email,\n    password: password\n  };\n  function login(event) {\n    event.preventDefault();\n    setDisabled(true);\n    axios.post(URL_POST, body).then(response => {\n      const {\n        data\n      } = response;\n      setUser(data);\n      localStorage.setItem(\"foto\", data.image);\n      localStorage.setItem(\"token\", data.token);\n      navigate(\"/today\");\n    }).catch(err => {\n      console.log(\"deu erro\", err.response);\n      alert(err.response.data.message);\n      setDisabled(false);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"LOGIN\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(Login, \"WgArRk9OHNOjCZzm//Rl3gRFuTc=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["axios","Link","useNavigate","useContext","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","navigate","password","setPassword","email","setEmail","disabled","setDisabled","foto","localStorage","getItem","token","undefined","URL_POST","body","login","event","preventDefault","post","then","response","data","setUser","setItem","image","catch","err","console","log","alert","message","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/juliana/Documents/Projetos/poo-projeto/src/components/Login.js"],"sourcesContent":["\n\nimport axios from \"axios\"\nimport { Link, useNavigate } from \"react-router-dom\"\nimport { useContext, useEffect, useState } from \"react\"\n\n\nexport default function Login() {\n    const navigate = useNavigate()\n\n    const [password, setPassword] = useState(\"\")\n    const [email, setEmail] = useState(\"\")\n    const [disabled, setDisabled] = useState(false) //disabilita oq?\n\n   //BONUS DO LOCALSTORAGE\n    let foto = localStorage.getItem(\"foto\")\n    let token =localStorage.getItem(\"token\")\n    if (foto!=undefined || token!=undefined){\n      navigate(\"/today\")\n    }\n\n    const URL_POST = \"https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/auth/login\"\n\n    const body = {\n        email: email,\n        password: password\n    }\n\n    function login(event) {\n        event.preventDefault();\n        setDisabled(true)\n\n        axios.post(URL_POST, body).then(response => {\n            const { data } = response;\n            setUser(data);\n            localStorage.setItem(\"foto\", data.image)\n            localStorage.setItem(\"token\", data.token)\n            navigate(\"/today\")\n        }).catch(err => { console.log(\"deu erro\", err.response); alert(err.response.data.message); setDisabled(false) })\n    }\n\n   \n    return (\n      <>\n      <h1>LOGIN</h1>\n      </>\n    )\n}\n"],"mappings":";;AAEA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AACpD,SAASC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAGvD,eAAe,SAASC,KAAKA,CAAA,EAAG;EAAAC,EAAA;EAC5B,MAAMC,QAAQ,GAAGV,WAAW,CAAC,CAAC;EAE9B,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACY,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC,EAAC;;EAEjD;EACC,IAAIc,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;EACvC,IAAIC,KAAK,GAAEF,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACxC,IAAIF,IAAI,IAAEI,SAAS,IAAID,KAAK,IAAEC,SAAS,EAAC;IACtCX,QAAQ,CAAC,QAAQ,CAAC;EACpB;EAEA,MAAMY,QAAQ,GAAG,uEAAuE;EAExF,MAAMC,IAAI,GAAG;IACTV,KAAK,EAAEA,KAAK;IACZF,QAAQ,EAAEA;EACd,CAAC;EAED,SAASa,KAAKA,CAACC,KAAK,EAAE;IAClBA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtBV,WAAW,CAAC,IAAI,CAAC;IAEjBlB,KAAK,CAAC6B,IAAI,CAACL,QAAQ,EAAEC,IAAI,CAAC,CAACK,IAAI,CAACC,QAAQ,IAAI;MACxC,MAAM;QAAEC;MAAK,CAAC,GAAGD,QAAQ;MACzBE,OAAO,CAACD,IAAI,CAAC;MACbZ,YAAY,CAACc,OAAO,CAAC,MAAM,EAAEF,IAAI,CAACG,KAAK,CAAC;MACxCf,YAAY,CAACc,OAAO,CAAC,OAAO,EAAEF,IAAI,CAACV,KAAK,CAAC;MACzCV,QAAQ,CAAC,QAAQ,CAAC;IACtB,CAAC,CAAC,CAACwB,KAAK,CAACC,GAAG,IAAI;MAAEC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEF,GAAG,CAACN,QAAQ,CAAC;MAAES,KAAK,CAACH,GAAG,CAACN,QAAQ,CAACC,IAAI,CAACS,OAAO,CAAC;MAAEvB,WAAW,CAAC,KAAK,CAAC;IAAC,CAAC,CAAC;EACpH;EAGA,oBACEX,OAAA,CAAAE,SAAA;IAAAiC,QAAA,eACAnC,OAAA;MAAAmC,QAAA,EAAI;IAAK;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI;EAAC,gBACZ,CAAC;AAET;AAACnC,EAAA,CAxCuBD,KAAK;EAAA,QACRR,WAAW;AAAA;AAAA6C,EAAA,GADRrC,KAAK;AAAA,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}